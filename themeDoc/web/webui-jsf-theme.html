<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!--
 The contents of this file are subject to the terms
 of the Common Development and Distribution License
 (the License).  You may not use this file except in
 compliance with the License.

 You can obtain a copy of the license at
 https://woodstock.dev.java.net/public/CDDLv1.0.html.
 See the License for the specific language governing
 permissions and limitations under the License.

 When distributing Covered Code, include this CDDL
 Header Notice in each file and include the License file
 at https://woodstock.dev.java.net/public/CDDLv1.0.html.
 If applicable, add the following below the CDDL Header,
 with the fields enclosed by brackets [] replaced by
 you own identifying information:
 "Portions Copyrighted [year] [name of copyright owner]"

 Copyright 2007 Sun Microsystems, Inc. All rights reserved.
-->

<title>9. com.sun.webui.jsf.theme - The Theme and Woodstock Web Applications - Version 4.1</title>

<meta name="COPYRIGHT" 
    content= "Woodstock Web Components Theme Documentation">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<link href="css/browser-uispec.css" type="text/css" rel="stylesheet">
<base href="href="http://@HOST_APPCONTEXT@/webui-jf.html">
<!--
<base href="href="http://localhost:8080/woods-theme-doc/webui-jsf.html">
-->
<script src="javascript/uispec_js.js" type="text/javascript"></script>

</head>
<body bgcolor="#ffffff">
    <div class="MstDiv">
    <table class="MstTblBot" title="" border="0" cellpadding="0"
	cellspacing="0" width="100%">
	<tbody>
	<tr>
	<td class="MstTdTtl"><div class="MstDivTtl">
	<div class="Mst1TtlTxt">
	The Theme and Woodstock Web Applications - Version 4.1
	</div>
	</div>
	<!--
	<div class="Mst1SecDiv">
	<span class="Mst1SecTxt">
	    <a href="mailto:woodstock-dev@sun.com">woodstock-dev@sun.com</a>
	&nbsp;</span>
	</div>
	</td>
	<td align="right" nowrap="nowrap" valign="top"><div class="MstDivSrch">
	    <form method="post" action="javascript:SearchGuidelines()">
		<input class="TxtFld" name="searchfield" id="searchfield"
		    type="text">
		<input class="Btn2" name="Submit" value="Search" id="Submit" 
		    onmouseover="if (this.disabled==0) this.className='Btn2Hov'" 
		    onfocus="if (this.disabled==0) this.className='Btn2Hov'" 
		    onmouseout="if (this.disabled==0) this.className='Btn2'" 
		    onblur="if (this.disabled==0) this.className='Btn2'"
		    type="submit">
	    </form>
	</div></td>
	<td class="MstTdLogo" width="1%"><img src="images/javalogo.gif"
	    alt="Java Logo" height="39" width="23"></td>
	-->
	</tr>
    </tbody>
    </table>

<!--
    <table class="MstTblEnd" border="0" 
	cellpadding="0" cellspacing="0" width="100%">
	<tbody>
	<tr><td><img src="images/masthead-sunname.gif"
	    alt="Sun Microsystems, Inc." 
	    align="right" height="10" width="113"></td>
	</tr>
      </tbody>
    </table>
-->
    </div>

<!-- ################################################### -->
<!-- End Document Title Block begin Navigation Bar Block -->
<table class="NavTbl" border="0" cellpadding="10" cellspacing="0"
 width="100%">
  <tbody>
    <tr>
      <td>[ <a class="greybar_link"
 href="index.html#toc">Table&nbsp;of&nbsp;Contents</a>&nbsp;|
      <a class="greybar_link"
 href="revision.html">0&nbsp;Revision&nbsp;History</a>&nbsp;|
      <a class="greybar_link"
 href="introduction.html">1&nbsp;Introduction</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">2&nbsp;Configuring&nbsp;THEME_RESOURCES</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">3&nbsp;Creating&nbsp;Properties&nbsp;Files</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">4&nbsp;Redefining&nbsp;Properties</a>&nbsp;|
      <a class="greybar_link"
 href="creating-themes.html">5&nbsp;Creating&nbsp;Themes</a>&nbsp;|
      <a class="greybar_link"
 href="creating-themes.html">6&nbsp;Configuring&nbsp;DEFAULT_THEME</a>&nbsp;|
      <a class="greybar_link"
 href="runtime-theme-components.html">7&nbsp;Runtime&nbsp;Theme&nbsp;Components</a>&nbsp;|
      <a class="greybar_link"
 href="runtime-theme-components.html">8&nbsp;PortalThemeTagLib</a>&nbsp;|
 <strong>9&nbsp;com.sun.webui.jsf.theme</strong>&nbsp;|
      <a class="greybar_link"
 href="theme-infrastructure.html">10&nbsp;com.sun.webui.theme</a>&nbsp;|
      <a class="greybar_link"
 href="javascript-theme.html">11&nbsp;Javascript&nbsp;Theme</a>&nbsp;|
      <a class="greybar_link"
 href="index.html#appendices">Appendices</a>&nbsp;]</td>
    </tr>
  </tbody>
</table>
<!-- ################################################### -->

<a name="skipnav"></a>
<h1><a name="runtime"></a>
The&nbsp;Theme&nbsp;and&nbsp;Woodstock&nbsp;Component's&nbsp;Relationship&nbsp;at&nbsp;Runtime&nbsp;(cont.)</h1>
<p class="toc-level0"><a href="webui-jsf-theme.html">9
The Woodstock com.sun.webui.jsf.theme Package</strong></a></p>
<p class="toc-level1"><a href="webui-jsf-theme.html#9.1">9.1
The JSFThemeContext Class</a></p>
<p class="toc-level1"><a href="webui-jsf-theme.html#9.2">9.2
The ThemeUtilities Class</a></p>
<p class="toc-level1"><a href="webui-jsf-theme.html#9.3">9.3
The ThemeELResolver Class</a></p>

<p class="toc-level1"><a href="webui-jsf-theme.html#9.4">9.4
The Theme Constants Classes</a></p>
<p class="toc-level2"><a href="webui-jsf-theme.html#9.4.1">9.4.1
The ThemeJavascript Class</a></p>
<p class="toc-level2"><a href="webui-jsf-theme.html#9.4.2">9.4.2
The ThemeImages Class</a></p>
<p class="toc-level2"><a href="webui-jsf-theme.html#9.4.3">9.4.3
The ThemeTemplates Class Class</a></p>
<p class="toc-level2"><a href="webui-jsf-theme.html#9.4.4">9.4.4
The ThemeStyles Class Class</a></p>
<!--
<p class="toc-level2"><a href="webui-jsf-theme.html#9.4.5">9.4.5
The ThemeMessages Class Class</a></p>
-->


<h1><a name="9"></a>9 The Woodstock com.sun.webui.jsf.theme Package</h1>
<p>
The classes in <code>com.sun.webui.jsf.theme</code> are implementations
of <code>com.sun.webui.theme</code> interfaces or convenience classes
to encapsulate commonly executed theme related code used by 
components or renderers or applications.
</p>
<h2><a name="9.1"></a>9.1 The JSFThemeContext Class</h2>
<p>
The <code>JSFThemeContext</code> is a subclass of
<codeThemeServletContext</code> and encapsulates the dependence on JSF 
and the servlet environment from the components. It is responsible for
instantiating a <code>ThemeContext</code> instance if there is no
instance available in the environment. It uses JSF interfaces to obtain
the current locale and it sets the default <code>ThemeFactory</code>
class and <code>ClassLoader</code>.
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/JSFThemeContext.html">
<code>JSFThemeContext</code></a> javadoc.
</p>

<h2><a name="9.2"></a>9.2 The ThemeUtilities Class</h2>
<p>
The <code>ThemeUtilities</code> is class of convenience methods intended
to be used by the Woodstock components to obtain a <code>Theme</code>
instance, and other common tasks like getting an <code>ImageComponent</code>.
</p>
<p>
It does implement some policies. It caches the <code>Theme</code>
instance as a request attribute under the assumption that the theme
will not change during the request. At this point in the development
changing themes in a request is not practical.
</p>
<p>
There was also a need to support legacy code that used a
session attribute to store the theme name. This was intended
to allow a controlling layer like an IDE to change the theme name.
But that functionality now is provided by <code>ThemeContext</code> 
but legacy code has not been updated to use <code>ThemeContext</code>.
This session attribute will prevent dynamically changing the 
active theme for an application at runtime, unless the
session attribute is changed to reflect the theme change.
</p>
<p>
<em>Note that this class is not intended for public use by
web applications, but is intended solely for use by
Woodstock components.</em>
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/util/ThemeUtilities.html">
<code>ThemeUtilities</code></a> javadoc.
</p>
<h2><a name="9.3"></a>9.3 The ThemeELResolver Class</h2>
<p>
The <code>ThemeELResolver</code> is a JSF property resolver and is
configured in the <code>faces-config.xml</code> file in the 
<code>webui-jsf.jar</code>. This resolver can be used by application's
to obtain theme resources using a value expression. The recognized
variables are:
<ul>
<li>themeImages</li>
<li>themeJavascript</li>
<li>themeMessages</li>
<li>themeStyles</li>
<li>themeTemplates</li>
</ul>
<div class="codebox">
<code>
<pre>
&lt;webuijsf:markup tag="div" styleClass="#{themeStyles.CONTENT_MARGIN}"&gt;
</pre>
</code>
</div>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/faces/ThemeELResolver.html">
<code>ThemeELResolver</code></a> javadoc.
</p>

<h2><a name="9.4"></a>9.4 The Theme Constants Classes</h2>
<p>
The theme constants classes define <code>public final constant String</code>
properties for literal string keys that define theme resources in 
the theme ResourceBundle Properties files.
</p>
<h3><a name="9.4.1"></a>9.4.1 The ThemeJavascript Class</h3>
<p>
The <code>ThemeJavascript</code> class defines constants for keys
defined in the 
<a href="theme/com/sun/webui/jsf/suntheme/properties/javascript.properties"><code>javascript.properties</code></a>
file.
</p>
<p>
The Javascript properties define files that must be loaded in 
every page, browser dependent files, name space prefixes and
properties to control the Javascript client theme.
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/ThemeJavascript.html">
<code>ThemeJavascript</code></a> javadoc.
</p>
<h3><a name="9.4.2"></a>9.4.2 The ThemeImages Class</h3>
<p>
The <code>ThemeImages</code> class defines constants for keys
defined in the 
<a href="theme/com/sun/webui/jsf/suntheme/properties/images.properties"><code>images.properties</code></a>
file.
</p>
<p>
The properties defined in <code>images.properties</code> define the
image file path, dimensions, "ALT" and "TITLE" attribute text. The
"ALT" and "TITLE" properties can refer to keys defined in 
<code>messages.properties</code> to support localized text. This
reduces the need for locale variants for the <code>image.properties</code>
file.
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/ThemeImages.html">
<code>ThemeImages</code></a> javadoc.
</p>
<h3><a name="9.4.3"></a>9.4.3 The ThemeTemplates Class Class</h3>
<p>
The <code>ThemeTemplates</code> class defines constants for keys
defined in the 
<a href="theme/com/sun/webui/jsf/suntheme/properties/templates.properties"><code>templates.properties</code></a>
file.
</p>
<p>
The properties defined in <code>templates.properties</code> define 
an html file that contains the markup for a Woodstock component 
that is implemented as a Javascript "widget". These components utilize
"widget" renderers and not the HTML renderers used by other components.
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/ThemeTemplates.html">
<code>ThemeTemplates</code></a> javadoc.
</p>
<h3><a name="9.4.4"></a>9.4.4 The ThemeStyles Class Class</h3>
<p>
The <code>ThemeStyles</code> class defines constants for keys
defined in the 
<a href="theme/com/sun/webui/jsf/suntheme/properties/styles.properties><code>styles.properties</code></a>
file. It also defines constants for the properties defined in the
<a href="theme/com/sun/webui/jsf/suntheme/properties/stylesheets.properties"><code>stylesheets.properties</code></a>
file.
</p>
<p>
The properties defined in <code>styles.properties</code> map a CSS
selector defined in the style sheets to a logical name. This file is
also called on occasion the "CLASSMAPPER".
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/ThemeStyles.html">
<code>ThemeStyles</code></a> javadoc.
</p>

<!--
<h3><a name="9.4.5"></a>9.4.5 The ThemeMessages Class Class</h3>
<p>
The <code>ThemeMessages</code> class defines constants for keys
defined in the 
<a href="theme/com/sun/webui/jsf/suntheme/properties/messages.properties"><code>messages.properties</code></a>
file.
</p>
<p>
The properties defined in <code>messages.properties</code> define text
and data. Originally this was the file that contained most of the
translatable information. Over time it has become a little more 
and the "catch all" for default component data, like the default number
of text columns in a text field.
</p>
<p>
For more detailed information see
<a href="javadoc/webui/com/sun/webui/jsf/theme/ThemeMessages.html">
<code>ThemeMessages</code></a> javadoc.
</p>
-->

<!-- ################################################### -->
<!-- End Document Title Block begin Navigation Bar Block -->
<table class="NavTbl" border="0" cellpadding="10" cellspacing="0"
 width="100%">
  <tbody>
    <tr>
      <td>[ <a class="greybar_link"
 href="index.html#toc">Table&nbsp;of&nbsp;Contents</a>&nbsp;|
      <a class="greybar_link"
 href="revision.html">0&nbsp;Revision&nbsp;History</a>&nbsp;|
      <a class="greybar_link"
 href="introduction.html">1&nbsp;Introduction</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">2&nbsp;Configuring&nbsp;THEME_RESOURCES</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">3&nbsp;Creating&nbsp;Properties&nbsp;Files</a>&nbsp;|
      <a class="greybar_link"
 href="redefining-theme-properties.html">4&nbsp;Redefining&nbsp;Properties</a>&nbsp;|
      <a class="greybar_link"
 href="creating-themes.html">5&nbsp;Creating&nbsp;Themes</a>&nbsp;|
      <a class="greybar_link"
 href="creating-themes.html">6&nbsp;Configuring&nbsp;DEFAULT_THEME</a>&nbsp;|
      <a class="greybar_link"
 href="runtime-theme-components.html">7&nbsp;Runtime&nbsp;Theme&nbsp;Components</a>&nbsp;|
      <a class="greybar_link"
 href="runtime-theme-components.html">8&nbsp;PortalThemeTagLib</a>&nbsp;|
 <strong>9&nbsp;com.sun.webui.jsf.theme</strong>&nbsp;|
      <a class="greybar_link"
 href="theme-infrastructure.html">10&nbsp;com.sun.webui.theme</a>&nbsp;|
      <a class="greybar_link"
 href="javascript-theme.html">11&nbsp;Javascript&nbsp;Theme</a>&nbsp;|
      <a class="greybar_link"
 href="index.html#appendices">Appendices</a>&nbsp;]</td>
    </tr>
  </tbody>
</table>
<!-- ################################################### -->
</p></body></html>
